<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>FileUpload.mxml</title>
<link rel="stylesheet" type="text/css" href="../../../../SourceStyles.css"/>
</head>

<body><pre><span class="MXMLProcessing_Instruction">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="MXMLComponent_Tag">&lt;mx:Panel</span><span class="MXMLDefault_Text"> xmlns:mx=&quot;</span><span class="MXMLString">http://www.adobe.com/2006/mxml</span><span class="MXMLDefault_Text">&quot; xmlns:com=&quot;</span><span class="MXMLString">*</span><span class="MXMLDefault_Text">&quot;
    layout=&quot;</span><span class="MXMLString">vertical</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">&quot; minWidth=&quot;</span><span class="MXMLString">400</span><span class="MXMLDefault_Text">&quot; height=&quot;</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">&quot; minHeight=&quot;</span><span class="MXMLString">200</span><span class="MXMLDefault_Text">&quot;
    creationComplete=&quot;</span><span class="ActionScriptDefault_Text">initCom</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot; backgroundColor=&quot;</span><span class="MXMLString">#323131</span><span class="MXMLDefault_Text">&quot; alpha=&quot;</span><span class="MXMLString">1.0</span><span class="MXMLDefault_Text">&quot; borderColor=&quot;</span><span class="MXMLString">#181818</span><span class="MXMLDefault_Text">&quot; borderThickness=&quot;</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">&quot; borderStyle=&quot;</span><span class="MXMLString">outset</span><span class="MXMLDefault_Text">&quot; color=&quot;</span><span class="MXMLString">#9BDFED</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
    
    <span class="MXMLSpecial_Tag">&lt;mx:Metadata&gt;</span>
        <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;uploadComplete&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flash.events.Event&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
        <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;uploadProgress&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flash.events.ProgressEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
        <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;uploadCancel&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flash.events.Event&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
        <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;uploadIOError&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flash.events.IOErrorEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
        <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;uploadSecurityError&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flash.events.SecurityErrorEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
    <span class="MXMLSpecial_Tag">&lt;/mx:Metadata&gt;</span>

    <span class="MXMLSpecial_Tag">&lt;mx:Script&gt;</span>
        <span class="ActionScriptOperator">&lt;!</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">CDATA</span><span class="ActionScriptBracket/Brace">[</span>
            
            <span class="ActionScriptComment">/*
                
            Modified code written originally by            
            Dustin Andrew    www.flash-dev.com 12/15/06
            
            FileUpload            
            Panel component for uploading files.
            (Icons from http://www.famfamfam.com)
            
            */</span>
            
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">controls</span>.<span class="ActionScriptOperator">*</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">managers</span>.<span class="ActionScriptOperator">*</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptOperator">*</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptOperator">*</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">net</span>.<span class="ActionScriptOperator">*</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">rpc</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">ResultEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">rpc</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">FaultEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">core</span>.<span class="ActionScriptDefault_Text">IUIComponent</span>;
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">_strDomain</span><span class="ActionScriptOperator">:</span>        <span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;http://platypo.us:8010/&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">downloadScript</span><span class="ActionScriptOperator">:</span>    <span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_strDomain</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">&apos;video/converter/scripts/download.php&apos;</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">downloadDirectory</span><span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_strDomain</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">&apos;download/&apos;</span><span class="ActionScriptBracket/Brace">)</span>;
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_strUploadUrl</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_refAddFiles</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">FileReferenceList</span>;    
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_refUploadFile</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">FileReference</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_arrUploadFiles</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_numCurrentUpload</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0;            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">guid</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span>;                    
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">timer</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Timer</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">loader</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">URLLoader</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">streamer</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">URLStream</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLStream</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">byteInfo</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptComment">//private var lineArray:Array;
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">line</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">ba</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ByteArray</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ByteArray</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lastNewLine</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lastFrame</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lastBitRate</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lastTime</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">interval</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">interval2</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lastPosition</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">encodeDone</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>;
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">minisec</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">seconds</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">minutes</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">hours</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">durationInSec</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;
            
            <span class="ActionScriptComment">//var pattern:RegExp = new RegExp(&quot;/^frame=/&quot;, &quot;i&quot;);
</span>            
            
            <span class="ActionScriptComment">// Set uploadUrl
</span>            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">uploadUrl</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">strUploadUrl</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">_strUploadUrl</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">strUploadUrl</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// Initalize
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">initCom</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">_arrUploadFiles</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">()</span>;                
                <span class="ActionScriptDefault_Text">enableUI</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">uploadCheck</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">guid</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">parentDocument</span>.<span class="ActionScriptDefault_Text">makeGUID</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptComment">//_strDownload = parentDocument.valueOf(_strDownload);                
</span>            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// Called to add file(s) for upload
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addFiles</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">_refAddFiles</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">FileReferenceList</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">_refAddFiles</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Event</span>.<span class="ActionScriptDefault_Text">SELECT</span>, <span class="ActionScriptDefault_Text">onSelectFile</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">_refAddFiles</span>.<span class="ActionScriptDefault_Text">browse</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// Called when a file is selected
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onSelectFile</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">arrFoundList</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptComment">// Get list of files from fileList, make list of files already on upload list
</span>                <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">_arrUploadFiles</span>.<span class="ActionScriptDefault_Text">length</span>; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">j</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">j</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">_refAddFiles</span>.<span class="ActionScriptDefault_Text">fileList</span>.<span class="ActionScriptDefault_Text">length</span>; <span class="ActionScriptDefault_Text">j</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_arrUploadFiles</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">name</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">_refAddFiles</span>.<span class="ActionScriptDefault_Text">fileList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">j</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">name</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptDefault_Text">arrFoundList</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_refAddFiles</span>.<span class="ActionScriptDefault_Text">fileList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">j</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">name</span><span class="ActionScriptBracket/Brace">)</span>;
                            <span class="ActionScriptDefault_Text">_refAddFiles</span>.<span class="ActionScriptDefault_Text">fileList</span>.<span class="ActionScriptDefault_Text">splice</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">j</span>, 1<span class="ActionScriptBracket/Brace">)</span>;
                            <span class="ActionScriptDefault_Text">j</span><span class="ActionScriptOperator">--</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_refAddFiles</span>.<span class="ActionScriptDefault_Text">fileList</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&gt;=</span> 1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                
                    <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">k</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">k</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">_refAddFiles</span>.<span class="ActionScriptDefault_Text">fileList</span>.<span class="ActionScriptDefault_Text">length</span>; <span class="ActionScriptDefault_Text">k</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">_arrUploadFiles</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">({</span>
                            <span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">_refAddFiles</span>.<span class="ActionScriptDefault_Text">fileList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">k</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">name</span>,
                            <span class="ActionScriptDefault_Text">size</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">formatFileSize</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_refAddFiles</span>.<span class="ActionScriptDefault_Text">fileList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">k</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">size</span><span class="ActionScriptBracket/Brace">)</span>,
                            <span class="ActionScriptDefault_Text">file</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">_refAddFiles</span>.<span class="ActionScriptDefault_Text">fileList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">k</span><span class="ActionScriptBracket/Brace">]})</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptDefault_Text">listFiles</span>.<span class="ActionScriptDefault_Text">dataProvider</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_arrUploadFiles</span>;
                    <span class="ActionScriptDefault_Text">listFiles</span>.<span class="ActionScriptDefault_Text">selectedIndex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_arrUploadFiles</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">-</span> 1;
                <span class="ActionScriptBracket/Brace">}</span>                
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">arrFoundList</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&gt;=</span> 1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">Alert</span>.<span class="ActionScriptDefault_Text">show</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;The file(s): \n\n• &quot;</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">arrFoundList</span>.<span class="ActionScriptDefault_Text">join</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;\n• &quot;</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">&quot;\n\n...are already on the upload list. Please change the filename(s) or pick a different file.&quot;</span>, <span class="ActionScriptString">&quot;File(s) already on list&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptDefault_Text">updateProgBar</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">scrollFiles</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">uploadCheck</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// Called to format number to file size
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">formatFileSize</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numSize</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">strReturn</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span>;
                <span class="ActionScriptDefault_Text">numSize</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numSize</span> <span class="ActionScriptOperator">/</span> 1000<span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">strReturn</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numSize</span>.<span class="ActionScriptDefault_Text">toFixed</span><span class="ActionScriptBracket/Brace">(</span>1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">&quot; KB&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numSize</span> <span class="ActionScriptOperator">&gt;</span> 1000<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">numSize</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">numSize</span> <span class="ActionScriptOperator">/</span> 1000;
                    <span class="ActionScriptDefault_Text">strReturn</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numSize</span>.<span class="ActionScriptDefault_Text">toFixed</span><span class="ActionScriptBracket/Brace">(</span>1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">&quot; MB&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numSize</span> <span class="ActionScriptOperator">&gt;</span> 1000<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">numSize</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">numSize</span> <span class="ActionScriptOperator">/</span> 1000;
                        <span class="ActionScriptDefault_Text">strReturn</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numSize</span>.<span class="ActionScriptDefault_Text">toFixed</span><span class="ActionScriptBracket/Brace">(</span>1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">&quot; GB&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>                
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">strReturn</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// Called to remove selected file(s) for upload
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeFiles</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">arrSelected</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">listFiles</span>.<span class="ActionScriptDefault_Text">selectedIndices</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">arrSelected</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&gt;=</span> 1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">arrSelected</span>.<span class="ActionScriptDefault_Text">length</span>; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">_arrUploadFiles</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">arrSelected</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">])]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">j</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">j</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">_arrUploadFiles</span>.<span class="ActionScriptDefault_Text">length</span>; <span class="ActionScriptDefault_Text">j</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_arrUploadFiles</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">j</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptDefault_Text">_arrUploadFiles</span>.<span class="ActionScriptDefault_Text">splice</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">j</span>, 1<span class="ActionScriptBracket/Brace">)</span>;
                            <span class="ActionScriptDefault_Text">j</span><span class="ActionScriptOperator">--</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptDefault_Text">listFiles</span>.<span class="ActionScriptDefault_Text">dataProvider</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_arrUploadFiles</span>;
                    <span class="ActionScriptDefault_Text">listFiles</span>.<span class="ActionScriptDefault_Text">selectedIndex</span> <span class="ActionScriptOperator">=</span> 0;                    
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptDefault_Text">updateProgBar</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">scrollFiles</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">uploadCheck</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// Called to check if there is at least one file to upload
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">uploadCheck</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_arrUploadFiles</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">==</span> 0<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">btnUpload</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                    <span class="ActionScriptDefault_Text">listFiles</span>.<span class="ActionScriptDefault_Text">verticalScrollPolicy</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;off&quot;</span>;
                <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">btnUpload</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                    <span class="ActionScriptDefault_Text">listFiles</span>.<span class="ActionScriptDefault_Text">verticalScrollPolicy</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;on&quot;</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// Disable UI control
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">disableUI</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">btnAdd</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">btnRemove</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">btnUpload</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">btnCancel</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptDefault_Text">listFiles</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">listFiles</span>.<span class="ActionScriptDefault_Text">verticalScrollPolicy</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;off&quot;</span>;
                
                <span class="ActionScriptDefault_Text">cbr</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">interlace</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">bitrate</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">format</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// Enable UI control
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">enableUI</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">btnAdd</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptDefault_Text">btnRemove</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptDefault_Text">btnUpload</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptDefault_Text">btnCancel</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">listFiles</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptDefault_Text">listFiles</span>.<span class="ActionScriptDefault_Text">verticalScrollPolicy</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;on&quot;</span>;
                
                <span class="ActionScriptDefault_Text">cbr</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptDefault_Text">interlace</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptDefault_Text">bitrate</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptDefault_Text">format</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// Scroll listFiles to selected row
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">scrollFiles</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">listFiles</span>.<span class="ActionScriptDefault_Text">verticalScrollPosition</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">listFiles</span>.<span class="ActionScriptDefault_Text">selectedIndex</span>;
                <span class="ActionScriptDefault_Text">listFiles</span>.<span class="ActionScriptDefault_Text">validateNow</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// Called to upload file based on current upload number
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">startUpload</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_arrUploadFiles</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&gt;</span> 0<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                    
                    <span class="ActionScriptDefault_Text">disableUI</span><span class="ActionScriptBracket/Brace">()</span>;
                    
                    <span class="ActionScriptDefault_Text">listFiles</span>.<span class="ActionScriptDefault_Text">selectedIndex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_numCurrentUpload</span>;
                    <span class="ActionScriptDefault_Text">scrollFiles</span><span class="ActionScriptBracket/Brace">()</span>;
                    
                    <span class="ActionScriptDefault_Text">_refUploadFile</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">FileReference</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptDefault_Text">_refUploadFile</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">listFiles</span>.<span class="ActionScriptDefault_Text">selectedItem</span>.<span class="ActionScriptDefault_Text">file</span>;
                    <span class="ActionScriptDefault_Text">_refUploadFile</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">ProgressEvent</span>.<span class="ActionScriptDefault_Text">PROGRESS</span>, <span class="ActionScriptDefault_Text">onUploadProgress</span><span class="ActionScriptBracket/Brace">)</span>;
                       <span class="ActionScriptComment">//_refUploadFile.addEventListener(Event.COMPLETE, onUploadComplete);
</span>                    <span class="ActionScriptDefault_Text">_refUploadFile</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">IOErrorEvent</span>.<span class="ActionScriptDefault_Text">IO_ERROR</span>, <span class="ActionScriptDefault_Text">onUploadIoError</span><span class="ActionScriptBracket/Brace">)</span>;
                      <span class="ActionScriptDefault_Text">_refUploadFile</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">SecurityErrorEvent</span>.<span class="ActionScriptDefault_Text">SECURITY_ERROR</span>, <span class="ActionScriptDefault_Text">onUploadSecurityError</span><span class="ActionScriptBracket/Brace">)</span>;
                      <span class="ActionScriptComment">//_refUploadFile.addEventListener(DataEvent.UPLOAD_COMPLETE_DATA, onUploadCompleteData);
</span>                    <span class="ActionScriptDefault_Text">_refUploadFile</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(D</span><span class="ActionScriptDefault_Text">ataEvent</span>.<span class="ActionScriptDefault_Text">UPLOAD_COMPLETE_DATA</span>, <span class="ActionScriptDefault_Text">onUploadComplete</span><span class="ActionScriptBracket/Brace">)</span>;                
                    
                    <span class="ActionScriptComment">// Variables to send along with upload
</span>                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sendVars</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">URLVariables</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLVariables</span><span class="ActionScriptBracket/Brace">()</span>;
                    
                    <span class="ActionScriptDefault_Text">sendVars</span>.<span class="ActionScriptDefault_Text">action</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;upload&quot;</span>;
                    <span class="ActionScriptDefault_Text">sendVars</span>.<span class="ActionScriptDefault_Text">guid</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">guid</span>;
                    <span class="ActionScriptDefault_Text">sendVars</span>.<span class="ActionScriptDefault_Text">size</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_refUploadFile</span>.<span class="ActionScriptDefault_Text">size</span>;
                    <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_refUploadFile</span>.<span class="ActionScriptDefault_Text">size</span><span class="ActionScriptBracket/Brace">)</span>;
                                    
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">request</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">URLRequest</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLRequest</span><span class="ActionScriptBracket/Brace">()</span>;
                    
                    <span class="ActionScriptDefault_Text">request</span>.<span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">sendVars</span>;
                    <span class="ActionScriptDefault_Text">request</span>.<span class="ActionScriptDefault_Text">url</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_strUploadUrl</span>;
                    <span class="ActionScriptDefault_Text">request</span>.<span class="ActionScriptDefault_Text">method</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">URLRequestMethod</span>.<span class="ActionScriptDefault_Text">POST</span>;
                    <span class="ActionScriptDefault_Text">request</span>.<span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">sendVars</span>;
                    
                                    
                    <span class="ActionScriptReserved">try</span><span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">_refUploadFile</span>.<span class="ActionScriptDefault_Text">upload</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">request</span>, <span class="ActionScriptString">&quot;file&quot;</span>, <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">catch</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Error</span><span class="ActionScriptBracket/Brace">){</span>
                        <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">errorID</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot;: &quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot;: &quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">message</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
                     
            
            <span class="ActionScriptComment">// Cancel and clear eventlisteners on last upload
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">clearUpload</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">_refUploadFile</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">ProgressEvent</span>.<span class="ActionScriptDefault_Text">PROGRESS</span>, <span class="ActionScriptDefault_Text">onUploadProgress</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptComment">//_refUploadFile.removeEventListener(Event.COMPLETE, onUploadComplete);
</span>                <span class="ActionScriptDefault_Text">_refUploadFile</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(D</span><span class="ActionScriptDefault_Text">ataEvent</span>.<span class="ActionScriptDefault_Text">UPLOAD_COMPLETE_DATA</span>, <span class="ActionScriptDefault_Text">onUploadComplete</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">_refUploadFile</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">IOErrorEvent</span>.<span class="ActionScriptDefault_Text">IO_ERROR</span>, <span class="ActionScriptDefault_Text">onUploadIoError</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">_refUploadFile</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">SecurityErrorEvent</span>.<span class="ActionScriptDefault_Text">SECURITY_ERROR</span>, <span class="ActionScriptDefault_Text">onUploadSecurityError</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptComment">//loader.removeEventListener(Event.COMPLETE, encodeResponse);
</span>                <span class="ActionScriptDefault_Text">_refUploadFile</span>.<span class="ActionScriptDefault_Text">cancel</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">_numCurrentUpload</span> <span class="ActionScriptOperator">=</span> 0;
                <span class="ActionScriptDefault_Text">updateProgBar</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">enableUI</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">guid</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;                
                <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">_arrUploadFiles</span>.<span class="ActionScriptDefault_Text">length</span>; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span> <span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">_arrUploadFiles</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;                    
                <span class="ActionScriptBracket/Brace">}</span>                
                <span class="ActionScriptDefault_Text">resetEncodeData</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">_refAddFiles</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">null</span>;    
                <span class="ActionScriptDefault_Text">_refUploadFile</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">null</span>;
                <span class="ActionScriptDefault_Text">_arrUploadFiles</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">null</span>;
                <span class="ActionScriptDefault_Text">_numCurrentUpload</span><span class="ActionScriptOperator">=</span>0;            
                <span class="ActionScriptDefault_Text">guid</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">null</span>;                    
                <span class="ActionScriptDefault_Text">timer</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">null</span>;
                <span class="ActionScriptDefault_Text">loader</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">null</span>;
                <span class="ActionScriptDefault_Text">streamer</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLStream</span><span class="ActionScriptBracket/Brace">()</span>;;
                <span class="ActionScriptDefault_Text">byteInfo</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">null</span>;

                <span class="ActionScriptDefault_Text">line</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">null</span>;
                <span class="ActionScriptDefault_Text">ba</span><span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ByteArray</span><span class="ActionScriptBracket/Brace">()</span>;;
                <span class="ActionScriptDefault_Text">lastNewLine</span><span class="ActionScriptOperator">=</span>0;
                 <span class="ActionScriptDefault_Text">lastFrame</span><span class="ActionScriptOperator">=</span>0;
                <span class="ActionScriptDefault_Text">lastBitRate</span><span class="ActionScriptOperator">=</span>0;
                <span class="ActionScriptDefault_Text">lastTime</span><span class="ActionScriptOperator">=</span>0;
                <span class="ActionScriptDefault_Text">interval</span><span class="ActionScriptOperator">=</span>0;
                <span class="ActionScriptDefault_Text">interval2</span><span class="ActionScriptOperator">=</span>0;
                <span class="ActionScriptDefault_Text">lastPosition</span><span class="ActionScriptOperator">=</span>0;
                <span class="ActionScriptDefault_Text">encodeDone</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;
            
                <span class="ActionScriptDefault_Text">minisec</span><span class="ActionScriptOperator">=</span>0;
                <span class="ActionScriptDefault_Text">seconds</span><span class="ActionScriptOperator">=</span>0;
                <span class="ActionScriptDefault_Text">minutes</span><span class="ActionScriptOperator">=</span>0;
                <span class="ActionScriptDefault_Text">hours</span><span class="ActionScriptOperator">=</span>0;
                <span class="ActionScriptDefault_Text">durationInSec</span><span class="ActionScriptOperator">=</span>0;
                <span class="ActionScriptDefault_Text">initCom</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// Called on upload cancel
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onUploadCanceled</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">deleteTemp</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">clearUpload</span><span class="ActionScriptBracket/Brace">()</span>;            
                <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;uploadCancel&quot;</span><span class="ActionScriptBracket/Brace">))</span>;
                <span class="ActionScriptDefault_Text">progBar</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;ENCODING CANCELED&quot;</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">deleteTemp</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                    
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">request</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">URLRequest</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLRequest</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">request</span>.<span class="ActionScriptDefault_Text">method</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">URLRequestMethod</span>.<span class="ActionScriptDefault_Text">GET</span>;
                <span class="ActionScriptDefault_Text">request</span>.<span class="ActionScriptDefault_Text">url</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">downloadScript</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">requestVars</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">URLVariables</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLVariables</span><span class="ActionScriptBracket/Brace">()</span>;
            
                <span class="ActionScriptDefault_Text">requestVars</span>.<span class="ActionScriptDefault_Text">action</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;delete&quot;</span>;

                <span class="ActionScriptDefault_Text">requestVars</span>.<span class="ActionScriptDefault_Text">files</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getFileString</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">requestVars</span>.<span class="ActionScriptDefault_Text">format</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">format</span>;

                <span class="ActionScriptDefault_Text">requestVars</span>.<span class="ActionScriptDefault_Text">guid</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">guid</span>;
                <span class="ActionScriptDefault_Text">request</span>.<span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">requestVars</span>;
            
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">loader</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">URLLoader</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLLoader</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">dataFormat</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">URLLoaderDataFormat</span>.<span class="ActionScriptDefault_Text">TEXT</span>;
                <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Event</span>.<span class="ActionScriptDefault_Text">COMPLETE</span>, <span class="ActionScriptDefault_Text">deleteReqComplete</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">load</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">request</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">deleteReqComplete</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">responseTxt</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">target</span>.<span class="ActionScriptDefault_Text">data</span>;
                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">responseTxt</span><span class="ActionScriptBracket/Brace">)</span>;
            
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">responseTxt</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;deleted&quot;</span><span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">progBar</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;ENCODING CANCELED&quot;</span>;                    
                <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getFileString</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fileNames</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getfileArray</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fileString</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span>;
                <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span><span class="ActionScriptOperator">=</span>0; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">fileNames</span>.<span class="ActionScriptDefault_Text">length</span>; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span> <span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">==</span> 0 <span class="ActionScriptBracket/Brace">){</span>
                        <span class="ActionScriptDefault_Text">fileString</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">fileNames</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">name</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">fileString</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">fileString</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">&quot;+&quot;</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">fileNames</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">name</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">fileString</span>; 
            <span class="ActionScriptBracket/Brace">}</span>
        
            
            <span class="ActionScriptComment">// Get upload progress
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onUploadProgress</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ProgressEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">numPerc</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">round</span><span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">bytesLoaded</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">bytesTotal</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span> 100<span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">updateProgBar</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numPerc</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">evt</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ProgressEvent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ProgressEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;uploadProgress&quot;</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">bytesLoaded</span>, <span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">bytesTotal</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">evt</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// Update progBar
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">updateProgBar</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numPerc</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">strLabel</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;File-&quot;</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_numCurrentUpload</span> <span class="ActionScriptOperator">+</span> 1<span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//+ &quot;/&quot; + _arrUploadFiles.length;
</span>                <span class="ActionScriptComment">//strLabel = (_numCurrentUpload + 1 &lt;= _arrUploadFiles.length &amp;&amp; numPerc == 100) ? &quot;Encoding... &quot; + strLabel : strLabel;
</span>                <span class="ActionScriptDefault_Text">strLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_numCurrentUpload</span> <span class="ActionScriptOperator">+</span> 1 <span class="ActionScriptOperator">&lt;=</span> <span class="ActionScriptDefault_Text">_arrUploadFiles</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">numPerc</span> <span class="ActionScriptOperator">&gt;</span> 0 <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">numPerc</span> <span class="ActionScriptOperator">&lt;</span> 100<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">strLabel</span> <span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot;:    UPLOADING &quot;</span><span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">numPerc</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">&quot;%&quot;</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">strLabel</span>;
                <span class="ActionScriptDefault_Text">strLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_numCurrentUpload</span> <span class="ActionScriptOperator">+</span> 1 <span class="ActionScriptOperator">&gt;=</span> <span class="ActionScriptDefault_Text">_arrUploadFiles</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">numPerc</span> <span class="ActionScriptOperator">==</span> 100<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptString">&quot;&quot;</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">strLabel</span>;
                <span class="ActionScriptComment">//strLabel = (_arrUploadFiles.length == 0) ? &quot;ZIPPING&quot; : strLabel;
</span>                <span class="ActionScriptDefault_Text">progBar</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">strLabel</span>;
                <span class="ActionScriptDefault_Text">progBar</span>.<span class="ActionScriptDefault_Text">setProgress</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numPerc</span>, 100<span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">progBar</span>.<span class="ActionScriptDefault_Text">validateNow</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_numCurrentUpload</span> <span class="ActionScriptOperator">+</span> 1 <span class="ActionScriptOperator">&lt;=</span> <span class="ActionScriptDefault_Text">_arrUploadFiles</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">numPerc</span> <span class="ActionScriptOperator">==</span> 100 <span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">progBar</span>.<span class="ActionScriptDefault_Text">indeterminate</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">true</span>;
                    <span class="ActionScriptDefault_Text">progBar</span>.<span class="ActionScriptDefault_Text">mode</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;event&quot;</span>;                
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">progBar</span>.<span class="ActionScriptDefault_Text">indeterminate</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;
                    <span class="ActionScriptDefault_Text">progBar</span>.<span class="ActionScriptDefault_Text">mode</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;manual&quot;</span>;
                <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptBracket/Brace">}</span>
            

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">checkProg</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">file</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_refUploadFile</span>.<span class="ActionScriptDefault_Text">name</span>;
                   <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">extensionIndex</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">file</span>.<span class="ActionScriptDefault_Text">lastIndexOf</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptString">&apos;.&apos;</span> <span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">filename</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">file</span>.<span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span> 0, <span class="ActionScriptDefault_Text">extensionIndex</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_strDownload</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">parentDocument</span>.<span class="ActionScriptDefault_Text">valueOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_strDownload</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptDefault_Text">streamer</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLStream</span><span class="ActionScriptBracket/Brace">()</span>;
                
                <span class="ActionScriptDefault_Text">streamer</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">ProgressEvent</span>.<span class="ActionScriptDefault_Text">PROGRESS</span>, <span class="ActionScriptDefault_Text">handleProg</span> <span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">streamer</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">IOErrorEvent</span>.<span class="ActionScriptDefault_Text">IO_ERROR</span>, <span class="ActionScriptDefault_Text">streamError</span> <span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptComment">//trace(&apos;https://dcount.dce.harvard.edu/video/downloadQueue/&apos;+guid+&quot;/&quot;+filename+&quot;.txt&quot;);
</span>                <span class="ActionScriptDefault_Text">streamer</span>.<span class="ActionScriptDefault_Text">load</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLRequest</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">downloadDirectory</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">guid</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot;/&quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">filename</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot;.txt&quot;</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;
            
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">handleProg</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ProgressEvent</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">streamer</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">URLStream</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">URLStream</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">target</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">interval2</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">setInterval</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">getLine</span>,1000<span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">numBytes</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">prevBytes</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;
                <span class="ActionScriptReserved">while</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">streamer</span>.<span class="ActionScriptDefault_Text">bytesAvailable</span> <span class="ActionScriptOperator">&gt;</span> 0 <span class="ActionScriptBracket/Brace">){</span>                           
                       <span class="ActionScriptDefault_Text">streamer</span>.<span class="ActionScriptDefault_Text">readBytes</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">ba</span><span class="ActionScriptBracket/Brace">)</span>;                        
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">duration1</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ba</span>.<span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">()</span>.<span class="ActionScriptDefault_Text">lastIndexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Duration: &quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">duration</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ba</span>.<span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">()</span>.<span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">duration1</span> <span class="ActionScriptOperator">+</span> 10, <span class="ActionScriptDefault_Text">duration1</span> <span class="ActionScriptOperator">+</span> 21<span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">minisec</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">duration</span>.<span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">duration</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>2<span class="ActionScriptBracket/Brace">))</span>;                
                <span class="ActionScriptDefault_Text">seconds</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">duration</span>.<span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">duration</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>5,<span class="ActionScriptDefault_Text">duration</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>3<span class="ActionScriptBracket/Brace">))</span>; 
                <span class="ActionScriptDefault_Text">minutes</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">duration</span>.<span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">duration</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>8,<span class="ActionScriptDefault_Text">duration</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>6<span class="ActionScriptBracket/Brace">))</span>;
                <span class="ActionScriptDefault_Text">hours</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">duration</span>.<span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span>0,<span class="ActionScriptDefault_Text">duration</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>11<span class="ActionScriptBracket/Brace">))</span>;
                <span class="ActionScriptDefault_Text">durationInSec</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">hours</span><span class="ActionScriptOperator">*</span>60<span class="ActionScriptOperator">*</span>60<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">minutes</span><span class="ActionScriptOperator">*</span>60<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">seconds</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">minisec</span> <span class="ActionScriptOperator">/</span>100 <span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getLine</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">byteInfo</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ba</span>.<span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">infoString</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">byteInfo</span>.<span class="ActionScriptDefault_Text">substr</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lastPosition</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">strLabel</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;File-&quot;</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_numCurrentUpload</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptDefault_Text">lastTime</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">infoString</span>.<span class="ActionScriptDefault_Text">lastIndexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;time=&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">lastBitRate</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">infoString</span>.<span class="ActionScriptDefault_Text">lastIndexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;bitrate&quot;</span><span class="ActionScriptBracket/Brace">)</span>;                
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">lastPosition</span> <span class="ActionScriptOperator">==</span> 0 <span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">line2</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;ENCODING...&quot;</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span> 
                    <span class="ActionScriptDefault_Text">line</span> <span class="ActionScriptOperator">=</span>     <span class="ActionScriptDefault_Text">infoString</span>.<span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lastTime</span>, <span class="ActionScriptDefault_Text">lastBitRate</span> <span class="ActionScriptBracket/Brace">)</span>;
                    
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">timeInString</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">line</span>.<span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span>5,<span class="ActionScriptDefault_Text">line</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">hrs1</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">timeInString</span>.<span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span>0,1<span class="ActionScriptBracket/Brace">))</span>;
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">hrs2</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">timeInString</span>.<span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span>1,2<span class="ActionScriptBracket/Brace">))</span>;
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">min1</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">timeInString</span>.<span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span>3,4<span class="ActionScriptBracket/Brace">))</span>;
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">min2</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">timeInString</span>.<span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span>4,5<span class="ActionScriptBracket/Brace">))</span>;
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sec1</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">timeInString</span>.<span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span>6,7<span class="ActionScriptBracket/Brace">))</span>;
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sec2</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">timeInString</span>.<span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span>7,<span class="ActionScriptDefault_Text">timeInString</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">))</span>;
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">hrs</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>  <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">hrs1</span><span class="ActionScriptOperator">*</span>10 <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">hrs2</span>;
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">min</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>  <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">min1</span><span class="ActionScriptOperator">*</span>10 <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">min2</span>;
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sec</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>  <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">sec1</span><span class="ActionScriptOperator">*</span>10 <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">sec2</span>;
 
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">currentTime</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">hrs</span><span class="ActionScriptOperator">*</span>3600 <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">min</span><span class="ActionScriptOperator">*</span>60 <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">sec</span>;
                    
                    <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">durationInSec</span> <span class="ActionScriptOperator">!=</span> 0<span class="ActionScriptBracket/Brace">){</span>
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">perc</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">floor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">currentTime</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">durationInSec</span><span class="ActionScriptOperator">*</span>100<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptComment">//trace(currentTime+&apos;/&apos;+durationInSec+&apos;=&apos;+perc+&apos;%&apos;);
</span>                    
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">line2</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span>;
                    
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">isNaN</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">perc</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">perc</span> <span class="ActionScriptOperator">&lt;=</span> 0 <span class="ActionScriptBracket/Brace">){</span>
                        <span class="ActionScriptDefault_Text">line2</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;ENCODING...&quot;</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">perc</span> <span class="ActionScriptOperator">&gt;</span> 99 <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">perc</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">Infinity</span> <span class="ActionScriptBracket/Brace">){</span> <span class="ActionScriptDefault_Text">perc</span> <span class="ActionScriptOperator">=</span> 100; <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptDefault_Text">line2</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;ENCODING &quot;</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">perc</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot;%&quot;</span>;
                    <span class="ActionScriptBracket/Brace">}</span>

                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptDefault_Text">progBar</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">strLabel</span> <span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot;:    &quot;</span><span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">line2</span>;
                <span class="ActionScriptDefault_Text">lastPosition</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">lastBitRate</span>;
                
                <span class="ActionScriptComment">//lastNewLine = infoString.lastIndexOf(&quot;kbits/s&quot;);                
</span>                <span class="ActionScriptComment">//lastFrame = infoString.lastIndexOf(&quot;size=&quot;);                
</span>                <span class="ActionScriptComment">//lastNewLine = infoString.lastIndexOf(&quot;time=&quot;);
</span>                <span class="ActionScriptComment">//line =     infoString.substring(lastFrame, lastNewLine + 7 );    
</span>                <span class="ActionScriptComment">//trace (infoString.substring(lastFrame, lastNewLine));                
</span>                <span class="ActionScriptComment">//lastPosition = lastNewLine + 7;
</span>                
            <span class="ActionScriptBracket/Brace">}</span>
            
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">streamError</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Event</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;IO ERROR: File stream&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">checkProg</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// Called on upload complete
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onUploadComplete</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>                
                
                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&apos;upload complete&apos;</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">uploadStatus</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_refUploadFile</span>.<span class="ActionScriptDefault_Text">name</span><span class="ActionScriptBracket/Brace">)</span>;    
                
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">uploadStatus</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">filename</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sendVars</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">URLVariables</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLVariables</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">filename</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">sendVars</span>.<span class="ActionScriptDefault_Text">file</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">filename</span>;
                <span class="ActionScriptDefault_Text">sendVars</span>.<span class="ActionScriptDefault_Text">guid</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">guid</span>;
                <span class="ActionScriptDefault_Text">sendVars</span>.<span class="ActionScriptDefault_Text">action</span> <span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;upload_check&quot;</span>;                
                                    
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">request</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">URLRequest</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLRequest</span><span class="ActionScriptBracket/Brace">()</span>;
                
                <span class="ActionScriptDefault_Text">request</span>.<span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">sendVars</span>;
                <span class="ActionScriptDefault_Text">request</span>.<span class="ActionScriptDefault_Text">url</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_strUploadUrl</span>;
                <span class="ActionScriptDefault_Text">request</span>.<span class="ActionScriptDefault_Text">method</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">URLRequestMethod</span>.<span class="ActionScriptDefault_Text">GET</span>;
                <span class="ActionScriptDefault_Text">request</span>.<span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">sendVars</span>;    
                
                <span class="ActionScriptDefault_Text">loader</span><span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLLoader</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">dataFormat</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">URLLoaderDataFormat</span>.<span class="ActionScriptDefault_Text">TEXT</span>;
                <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Event</span>.<span class="ActionScriptDefault_Text">COMPLETE</span>, <span class="ActionScriptDefault_Text">uploadResponse</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">load</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">request</span><span class="ActionScriptBracket/Brace">)</span>;                                
                
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">uploadResponse</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">responseTxt</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">target</span>.<span class="ActionScriptDefault_Text">data</span>;
                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">responseTxt</span><span class="ActionScriptBracket/Brace">)</span>;
            
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">responseTxt</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;FILE-200&quot;</span><span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">close</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;upload successful&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">startEncode</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_refUploadFile</span>.<span class="ActionScriptDefault_Text">name</span><span class="ActionScriptBracket/Brace">)</span>;                
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">setInterval</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">uploadStatus</span>, 15000 <span class="ActionScriptBracket/Brace">)</span>;    
                <span class="ActionScriptBracket/Brace">}</span>                
                
            <span class="ActionScriptBracket/Brace">}</span>
            

            
            <span class="ActionScriptComment">/*
            private function onUploadCompleteData(event:Event):void {
                trace(event.target.toString());        
            }*/</span>
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">startEncode</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">filename</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                
                <span class="ActionScriptDefault_Text">lastTime</span> <span class="ActionScriptOperator">=</span> 0;
                <span class="ActionScriptDefault_Text">lastBitRate</span> <span class="ActionScriptOperator">=</span> 0;
                <span class="ActionScriptDefault_Text">lastPosition</span> <span class="ActionScriptOperator">=</span> 0;
                <span class="ActionScriptDefault_Text">interval</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">setInterval</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">checkProg</span>,1000<span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sendVars</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">URLVariables</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLVariables</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">filename</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">sendVars</span>.<span class="ActionScriptDefault_Text">file</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">filename</span>;
                <span class="ActionScriptDefault_Text">sendVars</span>.<span class="ActionScriptDefault_Text">format</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">format</span>.<span class="ActionScriptDefault_Text">selectedItem</span>.<span class="ActionScriptDefault_Text">data</span>;
                <span class="ActionScriptDefault_Text">sendVars</span>.<span class="ActionScriptDefault_Text">deinterlace</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">interlace</span>.<span class="ActionScriptDefault_Text">selected</span>;
                <span class="ActionScriptDefault_Text">sendVars</span>.<span class="ActionScriptDefault_Text">bitrate</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">bitrate</span>.<span class="ActionScriptDefault_Text">selectedItem</span>.<span class="ActionScriptDefault_Text">data</span>;
                <span class="ActionScriptDefault_Text">sendVars</span>.<span class="ActionScriptDefault_Text">cbr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">cbr</span>.<span class="ActionScriptDefault_Text">selected</span>;
                <span class="ActionScriptDefault_Text">sendVars</span>.<span class="ActionScriptDefault_Text">guid</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">guid</span>;
                <span class="ActionScriptDefault_Text">sendVars</span>.<span class="ActionScriptDefault_Text">action</span> <span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;encode&quot;</span>;
                
                                    
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">request</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">URLRequest</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLRequest</span><span class="ActionScriptBracket/Brace">()</span>;
                
                <span class="ActionScriptDefault_Text">request</span>.<span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">sendVars</span>;
                <span class="ActionScriptDefault_Text">request</span>.<span class="ActionScriptDefault_Text">url</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_strUploadUrl</span>;
                <span class="ActionScriptDefault_Text">request</span>.<span class="ActionScriptDefault_Text">method</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">URLRequestMethod</span>.<span class="ActionScriptDefault_Text">GET</span>;
                <span class="ActionScriptDefault_Text">request</span>.<span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">sendVars</span>;    
                
                <span class="ActionScriptDefault_Text">loader</span><span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLLoader</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">dataFormat</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">URLLoaderDataFormat</span>.<span class="ActionScriptDefault_Text">TEXT</span>;
                <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Event</span>.<span class="ActionScriptDefault_Text">COMPLETE</span>, <span class="ActionScriptDefault_Text">encodeResponse</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">load</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">request</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptDefault_Text">_numCurrentUpload</span><span class="ActionScriptOperator">++</span>;
                
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">encodeResponse</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">evt</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">responseTxt</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">evt</span>.<span class="ActionScriptDefault_Text">target</span>.<span class="ActionScriptDefault_Text">data</span>;
                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">responseTxt</span><span class="ActionScriptBracket/Brace">)</span>;
            
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">responseTxt</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;ENCODED&quot;</span><span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">close</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;encoding successful&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_numCurrentUpload</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">_arrUploadFiles</span>.<span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">progBar</span>.<span class="ActionScriptDefault_Text">indeterminate</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">startUpload</span><span class="ActionScriptBracket/Brace">()</span>;
                        <span class="ActionScriptDefault_Text">resetEncodeData</span><span class="ActionScriptBracket/Brace">()</span>;
                        <span class="ActionScriptDefault_Text">progBar</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;ENCODING COMPLETE&quot;</span>;

                    <span class="ActionScriptBracket/Brace">}</span> 
                    <span class="ActionScriptReserved">else</span> <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;uploadComplete&quot;</span><span class="ActionScriptBracket/Brace">))</span>;
                        <span class="ActionScriptDefault_Text">progBar</span>.<span class="ActionScriptDefault_Text">indeterminate</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">resetEncodeData</span><span class="ActionScriptBracket/Brace">()</span>;
                        <span class="ActionScriptDefault_Text">progBar</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;ENCODING COMPLETE&quot;</span>;

                    <span class="ActionScriptBracket/Brace">}</span>                    
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">responseTxt</span> <span class="ActionScriptOperator">==</span><span class="ActionScriptString">&quot;FAIL-ENCODE:1&quot;</span><span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fileLoader</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">URLLoader</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLLoader</span>;
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">file</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_refUploadFile</span>.<span class="ActionScriptDefault_Text">name</span>;
                       <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">extensionIndex</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">file</span>.<span class="ActionScriptDefault_Text">lastIndexOf</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptString">&apos;.&apos;</span> <span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">filename</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">file</span>.<span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span> 0, <span class="ActionScriptDefault_Text">extensionIndex</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">fileLoader</span>.<span class="ActionScriptDefault_Text">load</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLRequest</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">downloadDirectory</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">guid</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot;/&quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">filename</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot;.txt&quot;</span><span class="ActionScriptBracket/Brace">))</span>;
                    <span class="ActionScriptDefault_Text">fileLoader</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Event</span>.<span class="ActionScriptDefault_Text">COMPLETE</span>, <span class="ActionScriptDefault_Text">errorFileLoaded</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">setInterval</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">startEncode</span>, 30000 <span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">errorFileLoaded</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">file</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">target</span>.<span class="ActionScriptDefault_Text">data</span>;
                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">file</span>.<span class="ActionScriptDefault_Text">lastIndexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;[&quot;</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&gt;</span> 0 <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">file</span>.<span class="ActionScriptDefault_Text">lastIndexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;[&quot;</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptDefault_Text">file</span>.<span class="ActionScriptDefault_Text">lastIndexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;[q]&quot;</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">){</span>                
                    <span class="ActionScriptDefault_Text">Alert</span>.<span class="ActionScriptDefault_Text">show</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;File Conversion Failed:\n&quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">file</span>.<span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">file</span>.<span class="ActionScriptDefault_Text">lastIndexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;[&quot;</span><span class="ActionScriptBracket/Brace">))</span>,<span class="ActionScriptString">&quot;ERROR&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                    
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">Alert</span>.<span class="ActionScriptDefault_Text">show</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;File Conversion Failed:\n&quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">file</span>.<span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">file</span>.<span class="ActionScriptDefault_Text">lastIndexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Error&quot;</span><span class="ActionScriptBracket/Brace">))</span>,<span class="ActionScriptString">&quot;ERROR&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                
                <span class="ActionScriptDefault_Text">deleteTemp</span><span class="ActionScriptBracket/Brace">()</span>;                
                <span class="ActionScriptDefault_Text">progBar</span>.<span class="ActionScriptDefault_Text">indeterminate</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;                    
                <span class="ActionScriptDefault_Text">progBar</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;ENCODING ERROR&quot;</span>;
                <span class="ActionScriptDefault_Text">clearUpload</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">resetEncodeData</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">hours</span> <span class="ActionScriptOperator">=</span> 0;
                <span class="ActionScriptDefault_Text">minutes</span> <span class="ActionScriptOperator">=</span> 0;
                <span class="ActionScriptDefault_Text">seconds</span> <span class="ActionScriptOperator">=</span> 0;
                <span class="ActionScriptDefault_Text">minisec</span> <span class="ActionScriptOperator">=</span> 0;
                <span class="ActionScriptDefault_Text">durationInSec</span> <span class="ActionScriptOperator">=</span> 0;
                <span class="ActionScriptDefault_Text">lastPosition</span> <span class="ActionScriptOperator">=</span> 0;
                <span class="ActionScriptDefault_Text">lastBitRate</span> <span class="ActionScriptOperator">=</span> 0;
                <span class="ActionScriptDefault_Text">lastTime</span> <span class="ActionScriptOperator">=</span> 0;
                <span class="ActionScriptDefault_Text">encodeDone</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptComment">//progBar.label = &quot;ENCODING COMPLETE&quot;;
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">setInterval</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptfunction">function</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{}</span>,100<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> 1
                <span class="ActionScriptReserved">while</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">--</span><span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">clearInterval</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptDefault_Text">ba</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ByteArray</span><span class="ActionScriptBracket/Brace">()</span>;         
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">resetUploads</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">enableUI</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptComment">//clearUpload();
</span>            <span class="ActionScriptBracket/Brace">}</span>
            
            
            <span class="ActionScriptComment">// Called on upload io error
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onUploadIoError</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">IOErrorEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">clearUpload</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">evt</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">IOErrorEvent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">IOErrorEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;uploadIoError&quot;</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">text</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScripttrace">trace</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&apos;event.txt&apos;</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">evt</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// Called on upload security error
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onUploadSecurityError</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">SecurityErrorEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">clearUpload</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">evt</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">SecurityErrorEvent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SecurityErrorEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;uploadSecurityError&quot;</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">text</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">evt</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">// Change view state
</span>            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">changeView</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">currentState</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">currentState</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;mini&quot;</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptString">&quot;&quot;</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptString">&quot;mini&quot;</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getfileArray</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_arrUploadFiles</span>;                
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getGUID</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">guid</span>;                
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">popQueue</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">try</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_arrUploadFiles</span>.<span class="ActionScriptDefault_Text">length</span>; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">&gt;</span>0; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">--</span><span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">_arrUploadFiles</span>.<span class="ActionScriptDefault_Text">pop</span><span class="ActionScriptBracket/Brace">()</span>;    
                <span class="ActionScriptBracket/Brace">}</span>  
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">catch</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Error</span><span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">errorID</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">&quot;: &quot;</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">message</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">]]</span><span class="ActionScriptOperator">&gt;</span>
    <span class="MXMLSpecial_Tag">&lt;/mx:Script&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;mx:states&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:State</span><span class="MXMLDefault_Text"> name=&quot;</span><span class="MXMLString">mini</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:SetProperty</span><span class="MXMLDefault_Text"> name=&quot;</span><span class="MXMLString">height</span><span class="MXMLDefault_Text">&quot; value=&quot;</span><span class="MXMLString">60</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:SetProperty</span><span class="MXMLDefault_Text"> name=&quot;</span><span class="MXMLString">minHeight</span><span class="MXMLDefault_Text">&quot; value=&quot;</span><span class="MXMLString">60</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:SetStyle</span><span class="MXMLDefault_Text"> target=&quot;</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">btnView</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">&quot; name=&quot;</span><span class="MXMLString">icon</span><span class="MXMLDefault_Text">&quot; value=&quot;</span><span class="MXMLString">@Embed(&apos;assets/application_put.png&apos;)</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/mx:State&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/mx:states&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;mx:transitions&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:Transition</span><span class="MXMLDefault_Text"> fromState=&quot;</span><span class="MXMLString">*</span><span class="MXMLDefault_Text">&quot; toState=&quot;</span><span class="MXMLString">*</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:Resize</span><span class="MXMLDefault_Text"> target=&quot;</span><span class="MXMLString">{</span><span class="ActionScriptReserved">this</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">&quot; duration=&quot;</span><span class="MXMLString">1000</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/mx:Transition&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/mx:transitions&gt;</span>
    <span class="MXMLComponent_Tag">&lt;mx:ApplicationControlBar</span><span class="MXMLDefault_Text"> width=&quot;</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">&quot; fillAlphas=&quot;</span><span class="MXMLString">[1.0, 1.0]</span><span class="MXMLDefault_Text">&quot; fillColors=&quot;</span><span class="MXMLString">[#2A2A2A, #565353]</span><span class="MXMLDefault_Text">&quot; alpha=&quot;</span><span class="MXMLString">1.0</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:Button</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">btnAdd</span><span class="MXMLDefault_Text">&quot; toolTip=&quot;</span><span class="MXMLString">Add file(s)</span><span class="MXMLDefault_Text">&quot; click=&quot;</span><span class="ActionScriptDefault_Text">addFiles</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot; icon=&quot;</span><span class="MXMLString">@Embed(&apos;assets/add.png&apos;)</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">26</span><span class="MXMLDefault_Text">&quot; fillAlphas=&quot;</span><span class="MXMLString">[1.0, 1.0]</span><span class="MXMLDefault_Text">&quot; fillColors=&quot;</span><span class="MXMLString">[#403E3E, #403E3E]</span><span class="MXMLDefault_Text">&quot; borderColor=&quot;</span><span class="MXMLString">#667775</span><span class="MXMLDefault_Text">&quot; themeColor=&quot;</span><span class="MXMLString">#41C0D3</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:Button</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">btnRemove</span><span class="MXMLDefault_Text">&quot; toolTip=&quot;</span><span class="MXMLString">Remove file(s)</span><span class="MXMLDefault_Text">&quot; click=&quot;</span><span class="ActionScriptDefault_Text">removeFiles</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot; icon=&quot;</span><span class="MXMLString">@Embed(source=&apos;assets/delete.png&apos;)</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">26</span><span class="MXMLDefault_Text">&quot; fillAlphas=&quot;</span><span class="MXMLString">[1.0, 1.0]</span><span class="MXMLDefault_Text">&quot; fillColors=&quot;</span><span class="MXMLString">[#403E3E, #403E3E]</span><span class="MXMLDefault_Text">&quot; borderColor=&quot;</span><span class="MXMLString">#667775</span><span class="MXMLDefault_Text">&quot; themeColor=&quot;</span><span class="MXMLString">#41C0D3</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:ProgressBar</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">progBar</span><span class="MXMLDefault_Text">&quot; mode=&quot;</span><span class="MXMLString">manual</span><span class="MXMLDefault_Text">&quot; label=&quot;</span><span class="MXMLDefault_Text">&quot; labelPlacement=&quot;</span><span class="MXMLString">center</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">&quot; borderColor=&quot;</span><span class="MXMLString">#9CC5C7</span><span class="MXMLDefault_Text">&quot; alpha=&quot;</span><span class="MXMLString">0.2</span><span class="MXMLDefault_Text">&quot; color=&quot;</span><span class="MXMLString">#9BDFED</span><span class="MXMLDefault_Text">&quot; themeColor=&quot;</span><span class="MXMLString">#19BBDE</span><span class="MXMLDefault_Text">&quot; indeterminateMoveInterval=&quot;</span><span class="MXMLString">30</span><span class="MXMLDefault_Text">&quot; </span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:Button</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">btnCancel</span><span class="MXMLDefault_Text">&quot; toolTip=&quot;</span><span class="MXMLString">Cancel upload</span><span class="MXMLDefault_Text">&quot; icon=&quot;</span><span class="MXMLString">@Embed(&apos;assets/cancel2.png&apos;)</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">101</span><span class="MXMLDefault_Text">&quot; click=&quot;</span><span class="ActionScriptDefault_Text">onUploadCanceled</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot; fillAlphas=&quot;</span><span class="MXMLString">[1.0, 1.0]</span><span class="MXMLDefault_Text">&quot; fillColors=&quot;</span><span class="MXMLString">[#403E3E, #403E3E, #8A8585, #8A8585]</span><span class="MXMLDefault_Text">&quot; borderColor=&quot;</span><span class="MXMLString">#667775</span><span class="MXMLDefault_Text">&quot; themeColor=&quot;</span><span class="MXMLString">#41C0D3</span><span class="MXMLDefault_Text">&quot; label=&quot;</span><span class="MXMLString">Cancel</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/mx:ApplicationControlBar&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;mx:Canvas</span><span class="MXMLDefault_Text"> width=&quot;</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">&quot; height=&quot;</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:DataGrid</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">listFiles</span><span class="MXMLDefault_Text">&quot; left=&quot;</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">&quot; top=&quot;</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">&quot; bottom=&quot;</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">&quot; right=&quot;</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">&quot;
            allowMultipleSelection=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; verticalScrollPolicy=&quot;</span><span class="MXMLString">on</span><span class="MXMLDefault_Text">&quot;
            draggableColumns=&quot;</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">&quot; resizableColumns=&quot;</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">&quot; sortableColumns=&quot;</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">&quot; color=&quot;</span><span class="MXMLString">#398A9B</span><span class="MXMLDefault_Text">&quot; alternatingItemColors=&quot;</span><span class="MXMLString">[#D9E8EA, #C3E2E1]</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:columns&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText=&quot;</span><span class="MXMLString">File</span><span class="MXMLDefault_Text">&quot; dataField=&quot;</span><span class="MXMLString">name</span><span class="MXMLDefault_Text">&quot; wordWrap=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> headerText=&quot;</span><span class="MXMLString">Size</span><span class="MXMLDefault_Text">&quot; dataField=&quot;</span><span class="MXMLString">size</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">75</span><span class="MXMLDefault_Text">&quot; textAlign=&quot;</span><span class="MXMLString">right</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/mx:columns&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/mx:DataGrid&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/mx:Canvas&gt;</span>
    <span class="MXMLComponent_Tag">&lt;mx:ControlBar</span><span class="MXMLDefault_Text"> horizontalAlign=&quot;</span><span class="MXMLString">center</span><span class="MXMLDefault_Text">&quot; verticalAlign=&quot;</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:ApplicationControlBar</span><span class="MXMLDefault_Text"> width=&quot;</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">&quot; fillAlphas=&quot;</span><span class="MXMLString">[1.0, 1.0]</span><span class="MXMLDefault_Text">&quot; fillColors=&quot;</span><span class="MXMLString">[#444141, #15171E]</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:ComboBox</span><span class="MXMLDefault_Text"> themeColor=&quot;</span><span class="MXMLString">#41C0D3</span><span class="MXMLDefault_Text">&quot; id=&quot;</span><span class="MXMLString">format</span><span class="MXMLDefault_Text">&quot;  color=&quot;</span><span class="MXMLString">#323131</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:ArrayCollection&gt;</span>
                                      <span class="MXMLComponent_Tag">&lt;mx:Object</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">MOV</span><span class="MXMLDefault_Text">&quot; data=&quot;</span><span class="MXMLString">mov</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                                      <span class="MXMLComponent_Tag">&lt;mx:Object</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">AVI</span><span class="MXMLDefault_Text">&quot; data=&quot;</span><span class="MXMLString">avi</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                                      <span class="MXMLComponent_Tag">&lt;mx:Object</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">FLV</span><span class="MXMLDefault_Text">&quot; data=&quot;</span><span class="MXMLString">flv</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                                      <span class="MXMLComponent_Tag">&lt;mx:Object</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">MP4</span><span class="MXMLDefault_Text">&quot; data=&quot;</span><span class="MXMLString">mp4</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                                      <span class="MXMLComponent_Tag">&lt;mx:Object</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">MPEG</span><span class="MXMLDefault_Text">&quot; data=&quot;</span><span class="MXMLString">mpeg</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                                      <span class="MXMLComponent_Tag">&lt;mx:Object</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">AIFF</span><span class="MXMLDefault_Text">&quot; data=&quot;</span><span class="MXMLString">aiff</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                                      <span class="MXMLComponent_Tag">&lt;mx:Object</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">WAV</span><span class="MXMLDefault_Text">&quot; data=&quot;</span><span class="MXMLString">wav</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                                      <span class="MXMLComponent_Tag">&lt;mx:Object</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">MP3</span><span class="MXMLDefault_Text">&quot; data=&quot;</span><span class="MXMLString">mp3</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                                      <span class="MXMLComponent_Tag">&lt;mx:Object</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">SWF</span><span class="MXMLDefault_Text">&quot; data=&quot;</span><span class="MXMLString">swf</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;/mx:ArrayCollection&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/mx:ComboBox&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:ComboBox</span><span class="MXMLDefault_Text"> themeColor=&quot;</span><span class="MXMLString">#41C0D3</span><span class="MXMLDefault_Text">&quot; id=&quot;</span><span class="MXMLString">bitrate</span><span class="MXMLDefault_Text">&quot; color=&quot;</span><span class="MXMLString">#323131</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
                          <span class="MXMLComponent_Tag">&lt;mx:ArrayCollection&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;mx:Object</span><span class="MXMLDefault_Text"> data=&quot;</span><span class="MXMLString">same</span><span class="MXMLDefault_Text">&quot; label=&quot;</span><span class="MXMLString">Same as Source</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                                  <span class="MXMLComponent_Tag">&lt;mx:Object</span><span class="MXMLDefault_Text"> data=&quot;</span><span class="MXMLString">low</span><span class="MXMLDefault_Text">&quot; label=&quot;</span><span class="MXMLString">Low: 200k</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                                  <span class="MXMLComponent_Tag">&lt;mx:Object</span><span class="MXMLDefault_Text"> data=&quot;</span><span class="MXMLString">med</span><span class="MXMLDefault_Text">&quot; label=&quot;</span><span class="MXMLString">Medium: 900k</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                                  <span class="MXMLComponent_Tag">&lt;mx:Object</span><span class="MXMLDefault_Text"> data=&quot;</span><span class="MXMLString">high</span><span class="MXMLDefault_Text">&quot; label=&quot;</span><span class="MXMLString">High: 4000k</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                          <span class="MXMLComponent_Tag">&lt;/mx:ArrayCollection&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/mx:ComboBox&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:CheckBox</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">De-interlace</span><span class="MXMLDefault_Text">&quot; themeColor=&quot;</span><span class="MXMLString">#41C0D3</span><span class="MXMLDefault_Text">&quot; fillAlphas=&quot;</span><span class="MXMLString">[1.0, 1.0, 1.0, 1.0]</span><span class="MXMLDefault_Text">&quot; alpha=&quot;</span><span class="MXMLString">1.0</span><span class="MXMLDefault_Text">&quot; fontWeight=&quot;</span><span class="MXMLString">bold</span><span class="MXMLDefault_Text">&quot; id=&quot;</span><span class="MXMLString">interlace</span><span class="MXMLDefault_Text">&quot; selected=&quot;</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:CheckBox</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">Constant bitrate</span><span class="MXMLDefault_Text">&quot; themeColor=&quot;</span><span class="MXMLString">#41C0D3</span><span class="MXMLDefault_Text">&quot; fillAlphas=&quot;</span><span class="MXMLString">[1.0, 1.0, 1.0, 1.0]</span><span class="MXMLDefault_Text">&quot; fontWeight=&quot;</span><span class="MXMLString">bold</span><span class="MXMLDefault_Text">&quot; id=&quot;</span><span class="MXMLString">cbr</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:Button</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">Convert</span><span class="MXMLDefault_Text">&quot; toolTip=&quot;</span><span class="MXMLString">Upload file(s)</span><span class="MXMLDefault_Text">&quot; id=&quot;</span><span class="MXMLString">btnUpload</span><span class="MXMLDefault_Text">&quot; click=&quot;</span><span class="ActionScriptDefault_Text">startUpload</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot; icon=&quot;</span><span class="MXMLString">@Embed(&apos;assets/bullet_go.png&apos;)</span><span class="MXMLDefault_Text">&quot; fillAlphas=&quot;</span><span class="MXMLString">[1.0, 1.0]</span><span class="MXMLDefault_Text">&quot; fillColors=&quot;</span><span class="MXMLString">[#403E3E, #403E3E]</span><span class="MXMLDefault_Text">&quot; borderColor=&quot;</span><span class="MXMLString">#667775</span><span class="MXMLDefault_Text">&quot; themeColor=&quot;</span><span class="MXMLString">#41C0D3</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:Spacer</span><span class="MXMLDefault_Text"> width=&quot;</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:Button</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">btnView</span><span class="MXMLDefault_Text">&quot; toolTip=&quot;</span><span class="MXMLString">Show/Hide file(s)</span><span class="MXMLDefault_Text">&quot; icon=&quot;</span><span class="MXMLString">@Embed(&apos;assets/application_get.png&apos;)</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">26</span><span class="MXMLDefault_Text">&quot; click=&quot;</span><span class="ActionScriptDefault_Text">changeView</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot; fillAlphas=&quot;</span><span class="MXMLString">[1.0, 1.0]</span><span class="MXMLDefault_Text">&quot; fillColors=&quot;</span><span class="MXMLString">[#403E3E, #353839]</span><span class="MXMLDefault_Text">&quot; borderColor=&quot;</span><span class="MXMLString">#667775</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:ApplicationControlBar&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/mx:ControlBar&gt;</span>    
<span class="MXMLComponent_Tag">&lt;/mx:Panel&gt;</span></pre></body>
</html>
